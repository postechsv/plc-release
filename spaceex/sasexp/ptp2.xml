<?xml version="1.0" encoding="iso-8859-1"?>
<sspaceex xmlns="http://www-verimag.imag.fr/xml-namespaces/sspaceex" version="0.2" math="SpaceEx">
  <component id="globalTimer">
    <param name="GlobalTimer" type="real" local="false" d1="1" d2="1" dynamics="any" />
    <param name="TotalDuration" type="real" local="false" d1="1" d2="1" dynamics="const" />
    <location id="1" name="flow" x="295.0" y="159.0" width="202.0" height="118.0">
      <invariant>GlobalTimer &lt; TotalDuration</invariant>
      <flow>GlobalTimer' == 1</flow>
    </location>
  </component>
  <component id="pump1">
    <param name="CycleDuration" type="real" local="false" d1="1" d2="1" dynamics="const" />
    <param name="wl1" type="real" local="true" d1="1" d2="1" dynamics="any" />
    <param name="CycleTimer" type="real" local="true" d1="1" d2="1" dynamics="any" />
    <param name="userInput" type="real" local="true" d1="1" d2="1" dynamics="any" />
    <param name="userInput2" type="real" local="true" d1="1" d2="1" dynamics="any" controlled="true" />
    <param name="nextInput" type="real" local="false" d1="1" d2="1" dynamics="any" />
    <param name="nextInput2" type="real" local="false" d1="1" d2="1" dynamics="any" controlled="false" />
    <location id="3" name="Start" x="288.0" y="401.0" width="266.0" height="174.0">
      <invariant>CycleTimer &lt;= CycleDuration</invariant>
      <flow>wl1' == userInput - userInput2 &amp;
CycleTimer' == 1 &amp;
userInput' == 0 &amp;
nextInput' == 0 &amp;
userInput2' == 0</flow>
    </location>
    <location id="5" name="calculateNext" x="583.0" y="135.0" width="276.0" height="216.0">
      <invariant>CycleTimer &lt;= CycleDuration</invariant>
      <flow>wl1' == userInput - userInput2 &amp;
CycleTimer' == 1 &amp;
userInput' == 0 &amp;
nextInput' == 0 &amp;
userInput2' == 0</flow>
    </location>
    <location id="1" name="input" x="770.0" y="518.0" width="242.0" height="214.0">
      <invariant>CycleTimer &lt;= CycleDuration</invariant>
      <flow>wl1' == userInput - userInput2 &amp;
CycleTimer' == 1 &amp;
userInput' == 0 &amp;
nextInput' == 0 &amp;
userInput2' == 0</flow>
    </location>
    <transition source="5" target="3">
      <guard>CycleTimer == CycleDuration</guard>
      <assignment>CycleTimer := 0 &amp;
userInput := nextInput &amp;
userInput2 := nextInput2</assignment>
      <labelposition x="-244.0" y="-92.0" width="212.0" height="90.0" />
    </transition>
    <transition source="3" target="1">
      <guard>CycleTimer &gt; 0 &amp;
CycleTimer &lt; CycleDuration</guard>
      <assignment>nextInput := 1</assignment>
      <labelposition x="-70.0" y="-76.0" width="162.0" height="70.0" />
    </transition>
    <transition source="3" target="1">
      <guard>CycleTimer &gt; 0 &amp;
CycleTimer &lt; CycleDuration</guard>
      <assignment>nextInput := 0</assignment>
      <labelposition x="-71.0" y="5.0" width="144.0" height="86.0" />
      <middlepoint x="533.5" y="573.0" />
    </transition>
    <transition source="1" target="5">
      <guard>CycleTimer &lt; CycleDuration</guard>
      <labelposition x="0.0" y="0.0" width="250.0" height="92.0" />
    </transition>
  </component>
  <component id="pump2">
    <param name="wl2" type="real" local="true" d1="1" d2="1" dynamics="any" />
    <param name="CycleDuration" type="real" local="false" d1="1" d2="1" dynamics="const" />
    <param name="userInput" type="real" local="true" d1="1" d2="1" dynamics="any" controlled="true" />
    <param name="CycleTimer" type="real" local="true" d1="1" d2="1" dynamics="any" />
    <param name="userInput2" type="real" local="true" d1="1" d2="1" dynamics="any" />
    <param name="nextInput" type="real" local="false" d1="1" d2="1" dynamics="any" controlled="false" />
    <param name="nextInput2" type="real" local="false" d1="1" d2="1" dynamics="any" />
    <location id="1" name="Start" x="236.0" y="274.0" width="176.0" height="144.0">
      <invariant>CycleTimer &lt;= CycleDuration</invariant>
      <flow>wl2' == userInput2 - userInput  &amp;
CycleTimer' == 1 &amp;
userInput' == 0 &amp;
userInput2' == 0 &amp;
nextInput2' == 0</flow>
    </location>
    <location id="2" name="CalculateNext" x="666.0" y="141.0" width="192.0" height="142.0">
      <invariant>CycleTimer &lt;= CycleDuration</invariant>
      <flow>wl2' == userInput2 - userInput  &amp;
CycleTimer' == 1 &amp;
userInput' == 0 &amp;
userInput2' == 0 &amp;
nextInput2' == 0</flow>
    </location>
    <location id="3" name="input" x="599.0" y="443.0" width="198.0" height="138.0">
      <invariant>CycleTimer &lt;= CycleDuration</invariant>
      <flow>wl2' == userInput2 - userInput  &amp;
CycleTimer' == 1 &amp;
userInput' == 0 &amp;
userInput2' == 0 &amp;
nextInput2' == 0</flow>
    </location>
    <transition source="2" target="1">
      <guard>CycleTimer == CycleDuration</guard>
      <assignment>CycleTimer := 0 &amp;
userInput := nextInput &amp;
userInput2 := nextInput2</assignment>
      <labelposition x="-111.0" y="-99.0" width="202.0" height="92.0" />
    </transition>
    <transition source="1" target="3">
      <guard>CycleTimer &gt; 0 &amp;
CycleTimer &lt; CycleDuration</guard>
      <assignment>nextInput2 := 0</assignment>
      <labelposition x="-48.0" y="-88.0" width="220.0" height="84.0" />
    </transition>
    <transition source="1" target="3">
      <guard>CycleTimer &gt; 0 &amp;
CycleTimer &lt; CycleDuration</guard>
      <assignment>nextInput2 := 1</assignment>
      <labelposition x="-151.0" y="31.0" width="184.0" height="92.0" />
      <middlepoint x="402.5" y="391.5" />
    </transition>
    <transition source="3" target="2">
      <guard>CycleTimer &lt; CycleDuration</guard>
      <labelposition x="8.0" y="-27.0" width="230.0" height="50.0" />
    </transition>
  </component>
  <component id="plant">
    <param name="GlobalTimer" type="real" local="false" d1="1" d2="1" dynamics="any" controlled="true" />
    <param name="TotalDuration" type="real" local="false" d1="1" d2="1" dynamics="const" controlled="true" />
    <param name="CycleDuration" type="real" local="false" d1="1" d2="1" dynamics="const" controlled="true" />
    <param name="nextInput" type="real" local="false" d1="1" d2="1" dynamics="any" controlled="true" x="159.0" y="131.0" />
    <param name="nextInput2" type="real" local="false" d1="1" d2="1" dynamics="any" controlled="true" x="186.0" y="151.0" />
    <bind component="globalTimer" as="globalTimer_1" x="388.0" y="112.0">
      <map key="GlobalTimer">GlobalTimer</map>
      <map key="TotalDuration">TotalDuration</map>
    </bind>
    <bind component="pump1" as="pump1_1" x="405.0" y="340.0" width="154.0" height="60.0">
      <map key="CycleDuration">CycleDuration</map>
      <map key="nextInput">nextInput</map>
      <map key="nextInput2">nextInput2</map>
    </bind>
    <bind component="pump2" as="pump2_1" x="415.0" y="443.0" width="160.0" height="54.0">
      <map key="CycleDuration">CycleDuration</map>
      <map key="nextInput">nextInput</map>
      <map key="nextInput2">nextInput2</map>
    </bind>
  </component>
</sspaceex>


